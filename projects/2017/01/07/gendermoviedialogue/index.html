<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">


<title>Gender Equality and Dialogue in 2016’s Highest Grossing Films - Amber Thomas</title>
<meta property="og:title" content="Gender Equality and Dialogue in 2016’s Highest Grossing Films - Amber Thomas">
<meta property="og:type" content="article">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://amber.rbind.io/projects/img/mainImages/2017-01-07_genderMovieDialogue.jpg" >
  

<meta property="description" content="Text parsing, analytics, and d3.js interactive data visualization of movie transcripts">
<meta property="og:description" content="Text parsing, analytics, and d3.js interactive data visualization of movie transcripts">


<meta name="twitter:creator" content="">

<meta name="description" content="This website serves as a portfolio for my data science projects, as well as blog posts and tutorials for using R, RStudio and other data science topics.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="twitter:creator" content="">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" href="/css/bootstrap.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/owl.carousel.css">
<link rel="stylesheet" href="/css/owl.theme.css">



  <link href="/css/style.default.css" rel="stylesheet" id="theme-stylesheet">


<link href="/css/custom.css" rel="stylesheet">
<link rel="shortcut icon" href="/img/favicon.png">


<link rel="stylesheet" href="/css/github-gist.css" rel="stylesheet" id="theme-stylesheet">




<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-89036876-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>
<body>
  <div id="all">
      <div class="container-fluid">
          <div class="row row-offcanvas row-offcanvas-left">
              
<div id="sidebar" class="col-sb-fixedpos col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
  <div class="sidebar-content">
    <h1 class="sidebar-heading"><a href="/">Amber Thomas</a></h1>

    <ul class="sidebar-menu">
      
      
        <li><a href="/about/">About</a></li>
      
        <li><a href="/projects/">Personal Projects</a></li>
      
        <li><a href="/work/">Work Portfolio</a></li>
      
        <li><a href="/blog/">Blog</a></li>
      
        <li><a href="/contact/">Get in Touch</a></li>
      

       



 

      

 

      
 

    </ul>
    <p class="social">
  
  
  
  <a href="https://twitter.com/ProQuesAsker" data-animate-hover="pulse" class="external twitter">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  <a href="mailto:AmberThomasMSc@gmail.com" data-animate-hover="pulse" class="email">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a href="https://www.linkedin.com/in/amberrthomas" data-animate-hover="pulse">
    <i class="fa fa-linkedin"></i>
  </a>
  
  
  
<a href="https://www.github.com/ProQuestionAsker">
  <i class="fa fa-github"></i>
</a>




</p>


    <div class="copyright">
      <p class="credit">
        
          &copy;2017 Amber Thomas
        
        | Template by <a href="https://bootstrapious.com/free-templates" class="external">Bootstrapious.com</a>

&amp; ported to Hugo by <a href="https://github.com/kishaningithub">Kishan B</a>

      </p>
    </div>
  </div>
</div>

<div class="col-xs-12 col-sm-8 col-md-9 content-column white-background col-main-fixedpos">
  <div class="small-navbar visible-xs">
  <button type="button" data-toggle="offcanvas" class="btn btn-ghost pull-left"> <i class="fa fa-align-left"> </i>Menu</button>
  <h1 class="small-navbar-heading"><a href="/">Amber Thomas</a></h1>
</div>


            <div class="row">
                  <div class="col-sm-4">
                    <div class="image">
                      <img src="/projects/img/mainImages/2017-01-07_genderMovieDialogue.jpg" class="img-responsive" alt="">
                    </div>
                  </div>

                  <div class="col-md-8">
                      <h2>Gender Equality and Dialogue in 2016’s Highest Grossing Films</h2>
                          <p class="author-category">
                            
                          </p>

                          <p class="date-comments">
                          <i class="fa fa-calendar-o"></i> January 7, 2017
                          </p>

                          
                  
                      </div>
                    </div>
                  </br>

<div class="row">
   <div class="content-column-content">
          <div class="col-lg-8">

<link href="/rmarkdown-libs/font-awesome/css/font-awesome.min.css" rel="stylesheet" />


<p>Jump straight to the <a href="http://amber.rbind.io/2016MovieDialogue/">Interactive Graphic</a>.</p>
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li><a href="#choosing-the-movies">Choosing the Movies</a></li>
<li><a href="#deciding-on-data-collection">Deciding on Data Collection</a></li>
</ul></li>
<li><a href="#analysis">Analysis</a>
<ul>
<li><a href="#assigning-gender-to-characters">Assigning Gender to Characters</a></li>
<li><a href="#counting-words">Counting Words</a></li>
</ul></li>
<li><a href="#visualizing-the-data">Visualizing the Data</a>
<ul>
<li><a href="#in-r">In R</a></li>
<li><a href="#in-illustrator">In Illustrator</a></li>
<li><a href="#adding-interactivity-with-d3.js">Adding Interactivity with d3.js</a></li>
<li><a href="#color-considerations">Color Considerations</a></li>
</ul></li>
<li><a href="#key-takeaways">Key Takeaways</a><br />
</li>
<li><a href="#future-work">Future Work</a></li>
</ul>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>Unlike most of my personal projects, this one didn’t start with a dataset. It started with going to see the newest movie from the Star Wars universe: Rogue One.</p>
<p>While I’m not a die-hard member of the Star Wars fandom, I did grow up watching the films (my father IS a devoted member of the fandom) and truly enjoying the stories. Like many other little girls watching those movies, Princess Leia’s character always resonated with me because she was <a href="https://www.youtube.com/watch?v=ODgwL7DJ9dY">just about the only speaking female character</a> in the original trilogy.</p>
<p>But things have changed since the late 1970’s and early 1980’s when those movies were released. I mean, Disney/Lucas Films has released 2 movies in the past 2 years and BOTH have female leads! Things have got to be better than they were, right? Well, I definitely had high hopes for female equality in the Star Wars Universe until I actually watched Rogue One. Jyn Erso was indeed a main character, but like Princess Leia she seemed to be totally surrounded by men in nearly every scene. And while the film does <em>technically</em> pass <a href="http://bechdeltest.com/">The Bechdel Test</a> (brief conversations between Jyn and both her mother and Mon Mothma allowed this box to be checked off), it felt far from equal. Being data-minded, I wanted to <em>see</em> how many female characters there actually were, and how much they spoke throught the story.</p>
<div id="choosing-the-movies" class="section level3">
<h3>Choosing the Movies</h3>
<p>Originally, I planned to look at the transcripts of all the Star Wars movies to see if female representation really has changed over the years, but again, several of those movies were created almost 40 years ago. Is it fair to compare them directly? So, I started thinking about comparing movies that were all created at the same time. That is, movies that were all released in 2016. To limit this project to some sort of semi-reasonable scope, I decided to keep it to the Top 10 <a href="http://www.the-numbers.com/movie/records/worldwide/2016">Highest Grossing Movies Worldwide</a> from 2016. That left me with the following movies in this order:</p>
<ul>
<li><a href="http://www.imdb.com/title/tt3498820/?ref_=nv_sr_1">Captain America: Civil War</a></li>
<li><a href="http://www.imdb.com/title/tt2277860/?ref_=nv_sr_1">Finding Dory</a></li>
<li><a href="http://www.imdb.com/title/tt2948356/?ref_=nv_sr_1">Zootopia</a></li>
<li><a href="http://www.imdb.com/title/tt3040964/?ref_=nv_sr_1">The Jungle Book</a></li>
<li><a href="http://www.imdb.com/title/tt2709768/?ref_=nv_sr_1">The Secret Life of Pets</a></li>
<li><a href="http://www.imdb.com/title/tt2975590/?ref_=nv_sr_1">Batman V. Superman: Dawn of Justice</a></li>
<li><a href="http://www.imdb.com/title/tt3748528/?ref_=nv_sr_2">Rogue One: A Star Wars Story</a></li>
<li><a href="http://www.imdb.com/title/tt1431045/?ref_=nv_sr_1">Deadpool</a></li>
<li><a href="http://www.imdb.com/title/tt3183660/?ref_=nv_sr_1">Fantastic Beasts and Where to Find Them</a></li>
<li><a href="http://www.imdb.com/title/tt1386697/?ref_=nv_sr_1">Suicide Squad</a></li>
</ul>
<p>That’s 4 superhero/action movies, 2 Sci-Fi/Fantasy, and 4 animated or family movies. Not a perfect distribution of movie genres, but at least there’s a bit of variety.</p>
</div>
<div id="deciding-on-data-collection" class="section level3">
<h3>Deciding on Data Collection</h3>
<p>I decided to delve a little bit into similar data exploration projects that have been conducted (like <a href="http://polygraph.cool/films/">this one</a> or <a href="https://seejane.org/research-informs-empowers/data/">this one</a>) and found that I could look at a few things:</p>
<ul>
<li>On-Screen Time</li>
<li>Words Spoken per Character</li>
<li>Number of Female Characters</li>
<li>Number of Female “Lead” Characters</li>
</ul>
<p>While some <a href="http://www.cinemetrics.lv/cinemetrics.php">really cool technology</a> exists to help measure screen time in movies, it seemed to either be something that I couldn’t use for a side project fueled by my own curiosity or had to be done manually and would thus have taken forever.</p>
<p>Instead, I decided to focus on dialogue. I considered using screenplays as my source for movie dialogue, but so many of them were not publicly available. However, dedicated movie fans tend to transcribe movie dialogue and post the transcripts on the internet. Tracking those down took some work, but once I found them, it was relatively smooth sailing. For a few, I couldn’t find a transcript, but I was able to find closed caption files. For those, I had to re-watch the movie and manually add in which character said each line.</p>
<p>I did mention that I was <em>really</em> curious about this issue, right?</p>
</div>
</div>
<div id="analysis" class="section level2">
<h2>Analysis</h2>
<p>Once I had all of the transcripts either from fans or captions, it was just a matter of reading the .txt file into R and counting the words per character. I’ll show various stages of the Rogue One graphics throughout this post, but the analysis was the same for each movie. The process looked like this:</p>
<pre class="r"><code># Installing Necessary Packages

# For Web Scraping Transcripts
library(rvest)
library(curl)

# For Data Frame Manipulation
library(dplyr)
library(tidyr)
library(stringr)
library(stringi)</code></pre>
<pre class="r"><code># Import Transcript (with formatting)
RO &lt;- readLines(&quot;RogueOneTranscript.txt&quot;)

# Convert to Data Frame
RO &lt;- as.data.frame(RO)

# Remove empty rows
RO &lt;- RO %&gt;% 
        filter(!(RO == &quot;&quot;))

# Separating Character from words
RO_full &lt;- RO %&gt;% 
          separate(col = RO, into = c(&quot;Character&quot;, &quot;Words&quot;), sep = &quot;:&quot;, extra = &quot;merge&quot;) %&gt;% 
          # Eliminate script notes
          filter(!is.na(Words)) %&gt;% 
          # Trim white space and convert Character to factor
          mutate(Character = as.factor(str_trim(Character)), 
                 Words = str_trim(Words))
</code></pre>
<div id="assigning-gender-to-characters" class="section level3">
<h3>Assigning Gender to Characters</h3>
<p>Now that I had a data frame with both Character and Words columns, I had to assign Genders to each Character. This was sometimes quite challenging. Here’s how I did it:</p>
<ol style="list-style-type: decimal">
<li><p>When possible, use the pronoun that other characters use. If a character is referred to by others as “he” or “him”, then it’s a male character.</p></li>
<li><p>If there is no pronoun used throughout the movie but the character is named or credited, use the gender of the actor/actress (using IMDB).</p></li>
</ol>
<p><i class="fa fa-arrow-circle-right" aria-hidden="true"></i> <strong>Disclaimer: Gender of actors/actresses assumed based on publicly available information as of January 2017.</strong></p>
<ol start="3" style="list-style-type: decimal">
<li><p>If there is no pronoun used for a character and the character is not named or credited, look at the closed captions. Sometimes they will name the character that spoke.</p></li>
<li><p>If all else fails, make an educated guess based on the character’s voice.</p></li>
</ol>
<p>I’ll be the first to say that these methods are not perfect. But for a personal project where I just want to explore some data, I feel like it’s pretty good. However, if you caught a mistake on my part, please <a href="https://proquestionasker.github.io/contact/">let me know</a>.</p>
<p>In R, I assigned genders to characters like this:</p>
<pre class="r"><code># Assign Genders to Rogue One Characters

RO_males &lt;- c(&quot;Admiral Raddus&quot;, &quot;Announcer&quot;, &quot;Bail Organa&quot;, &quot;Baze Malbus&quot;, &quot;Blue Squadron 1&quot;, &quot;Blue Squadron 2&quot;, &quot;Blue Squadron 3&quot;, &quot;Blue Squadron 4&quot;, &quot;Bodhi Rook&quot;, &quot;C3PO&quot;, &quot;Captain Antilles&quot;, &quot;Cassian&quot;, &quot;Chirrut Imwe&quot;, &quot;Corvette 5&quot;, &quot;Edrio&quot;, &quot;Imperial Soldiers&quot;, &quot;Engineers&quot;, &quot;Flight Control&quot;, &quot;Galen&quot;, &quot;Gate Control&quot;, &quot;General Dodonna&quot;, &quot;General Draven&quot;, &quot;General Merrick&quot;, &quot;General Ramda&quot;, &quot;Gold Leader&quot;, &quot;Governor Tarkin&quot;, &quot;Imperial Assistant&quot;, &quot;Imperial Assistant 2&quot;, &quot;Imperial Assistant 3&quot;, &quot;Imperial Controller&quot;, &quot;Imperial Mission Control&quot;, &quot;Imperial Mission Control 2&quot;, &quot;Imperial Officer&quot;, &quot;Imperial Officer 2&quot;, &quot;Imperial Officer 3&quot;, &quot;Imperial Pilot&quot;, &quot;Imperial Pilot 2&quot;, &quot;Inspector&quot;, &quot;K2SO&quot;, &quot;Krennic&quot;, &quot;Lieutenant Sefla&quot;, &quot;Dr. Cornelius Evazan&quot;, &quot;Pad 12&quot;, &quot;Prisoner&quot;, &quot;Rebel Announcer&quot;, &quot;Rebel Army&quot;, &quot;Rebel Fighter&quot;, &quot;Rebel Officer&quot;, &quot;Rebel Officer 2&quot;, &quot;Rebel Pilot&quot;, &quot;Rebel Pilot 2&quot;, &quot;Rebel Pilot 3&quot;, &quot;Rebel Pilot 4&quot;, &quot;Rebel Pilot 5&quot;, &quot;Rebel Soldier&quot;, &quot;Rebel Soldier 1&quot;, &quot;Rebel Soldier 10&quot;, &quot;Rebel Soldier 2&quot;, &quot;Rebel Soldier 3&quot;, &quot;Rebel Soldier 4&quot;, &quot;Rebel Soldier 5&quot;, &quot;Rebel Soldier 6&quot;, &quot;Rebel Soldier 7&quot;, &quot;Rebel Soldier 8&quot;, &quot;Rebel Soldier 9&quot;, &quot;Red 5&quot;, &quot;Red Leader&quot;, &quot;Saw Gerrera&quot;, &quot;Senator Jebel&quot;, &quot;Senator Vaspar&quot;, &quot;Sergeant Melshi&quot;, &quot;Ship Computer&quot;, &quot;Stormtrooper 1&quot;, &quot;Stormtrooper 2&quot;, &quot;Stormtrooper 3&quot;, &quot;Stormtrooper 4&quot;, &quot;Stormtrooper 5&quot;, &quot;Stormtrooper 6&quot;, &quot;Stormtrooper 7&quot;, &quot;Stormtrooper 8&quot;, &quot;Stormtrooper 9&quot;, &quot;Stormtrooper 10&quot;, &quot;Stormtrooper 11&quot;, &quot;Stormtrooper 12&quot;, &quot;Stormtrooper 13&quot;, &quot;Stormtrooper 14&quot;, &quot;Stormtrooper 15&quot;, &quot;Stormtrooper 16&quot;, &quot;Stormtrooper 17&quot;, &quot;Stormtrooper 18&quot;, &quot;Technician&quot;, &quot;Tivik&quot;, &quot;Unknown Senator&quot;, &quot;Unknown Senator 2&quot;, &quot;Vader&quot;, &quot;Vader&#39;s Assistant&quot;)

RO_females &lt;- c(&quot;Antenna Computer&quot;, &quot;Girl&#39;s Mother&quot;, &quot;Jyn&quot;, &quot;Leia&quot;, &quot;Lyra&quot;, &quot;Mon Mothma&quot;, &quot;Rebel Pilot (Female)&quot;, &quot;Rebel Pilot (Female) 2&quot;, &quot;Rebel Pilot (Female) 3&quot;, &quot;Senator Pamlo&quot;)


RO_full &lt;- RO_full %&gt;% 
            mutate(Gender = ifelse(Character %in% RO_females, &quot;female&quot;, 
                                ifelse(Character %in% RO_males, &quot;male&quot;, &quot;unknown&quot;)))</code></pre>
<p>Some questions I’ve already received about this process:</p>
<ul>
<li><strong>What if a male character is voiced by a female actress (e.g., Tommy Pickles in Rugrats) or a female character is voiced by a male actor (e.g., Roz in Monster’s Inc.)?</strong>
<ul>
<li>Well, in both of those cases, I’d have assigned the gender based on the pronouns used by other characters before getting to the actor/actress’ gender. The same methodology applies here. To my knowledge, I didn’t actually run into that problem with these movies. However, if an unnamed rhino was voiced by a female, I did assume it was a female rhino.</li>
</ul></li>
<li><strong>Can you really know the gender of an animated character?</strong>
<ul>
<li>Nope! Again, I am relying on the other characters in the film to know what to call one another. This may be slightly flawed but it’s the best I can do with the information I have.</li>
</ul></li>
</ul>
</div>
<div id="counting-words" class="section level3">
<h3>Counting Words</h3>
<p>Now that each of the characters has an assigned gender, it’s time to count how many words each character spoke. In R, I used the <code>dplyr</code> and <code>stringi</code> packages for this.</p>
<pre class="r"><code># Counting words per character
RO_full2 &lt;- RO_full %&gt;% 
                mutate(count = stri_count(Words, regex = &quot;\\S+&quot;)) %&gt;% 
                group_by(Character, Gender) %&gt;% 
                summarise(Total_Words = sum(count)) %&gt;% 
                filter(!(Gender == &quot;unknown&quot;))</code></pre>
<p>I should note that I did not include a “minimum number of spoken words limit” to this project. So that means that any character that spoke even a single word is included. And yes, that means every stormtrooper that uttered at least one word will be in here.</p>
</div>
</div>
<div id="visualizing-the-data" class="section level2">
<h2>Visualizing the Data</h2>
<div id="in-r" class="section level3">
<h3>In R</h3>
<div id="scatter-plot" class="section level4">
<h4>Scatter Plot</h4>
<p>As a native R user, my first attempt to visualize all of this data was naturally in R. I started with a simple scatter plot for each movie. I had “Number of Turns Speaking” (i.e., the number of independent times that character’s name showed up) on the x-axis, “Total Number of Words Spoken” on the y-axis, and the “Total Number of Words Spoken” also mapped to circle size. I decided to use the <code>highcharter</code> package and ended up with something like this:</p>
<iframe seamless src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/RO_fig/index.html" width="100%" height="500" id="iframe_container">
</iframe>
<p>Again, this is the figure for Rogue One, and we can see some potentially interesting things here. For instance, Cassian (the male lead) speaks more than Jyn (the female lead). It’s also easy to spot characters that are a bit more long-winded when they get to speak (Bodhi Rook and Galen) while others keep things short and to the point (Baze Malbus).</p>
<p>I looked at these figures for each movie, and found a few other entertaining outliers. In The Jungle Book, Baloo spoke the most words, but also had fewer speaking opportunities than Mowgli. He rambled more than any other character in the movie (which, didn’t actually contain too much dialogue, overall).</p>
<p><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/JB_Baloo.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>There was another funny outlier in the Zootopia figure. This time, instead of the outlier belonging to a talkative bear, it belonged to a slow-talking sloth, Flash Slothmore. He spoke quite a few times, but didn’t actually say many words.</p>
<p><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/Zootopia_Sloth.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>Unfortunately, other than those few amusing findings, these figures weren’t helping me to see the number of speaking female characters amongst the entire speaking cast or the number of words each spoke, particularly because there were so many characters with so few words that they all overlapped.</p>
</div>
<div id="bar-graph" class="section level4">
<h4>Bar Graph</h4>
<p>Since the scatter plot didn’t work, I thought maybe a bar chart would. I plotted the characters along the X axis and total number of spoken words along the Y and (again for Rogue One) ended up with this:</p>
<iframe seamless src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/RO_fig2/index.html" width="100%" height="500" id="iframe_container">
</iframe>
<p>Still less than ideal. My biggest problem here is that there is such a big range between the main characters with lots of words and the minor characters with very few. Even in an interactive figure, you are required to zoom to get an idea of the smaller characters’ contributions.</p>
<p>Needless to say, I wasn’t happy with the bar graph either.</p>
</div>
</div>
<div id="in-illustrator" class="section level3">
<h3>In Illustrator</h3>
<p>In the end, I decided to make an axis-free bubble chart. I should point out that I am perfectly aware of the arguments against bubble charts (look <a href="http://junkcharts.typepad.com/junk_charts/2013/03/blowing-the-whistle-at-bubble-charts.html">here</a>), but in this case, I thought the visualization would be effective.</p>
<p>The problem? I had no idea how to make an axis-free bubble chart in R.</p>
<p>Before going down the rabbit-hole of making a new type of graphic in R, I decided to use my trusty Adobe Illustrator to quickly see what these visualizations might look like first. So I pulled my highcharter bubble charts into Illustrator and traced the circles to get an idea of relative size. I ended up with lots of groups of bubbles that looked like this:</p>
<p><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/RO_V1.jpg" width="30%" style="display: block; margin: auto;" /></p>
<p>But there were a few issues with this. While I liked that you could easily spot the main characters, I knew that there were several characters in Rogue One who had fewer than 10 words, but their bubbles seemed to indicate more. I’d clearly have to alter how I sized the circles. It was also difficult to get an idea of what percentage of the characters or spoken words actually came from female characters.</p>
<p>So, I adjusted the figure. I calculated the proper radius of a circle so that each circle’s <a href="https://en.wikipedia.org/wiki/Bubble_chart#Choosing_bubble_sizes_correctly"><strong>area</strong></a> was scaled to the total number of words spoken by each character.</p>
<p>I did this in R.</p>
<pre class="r"><code>RO_full2 &lt;- RO_full2 %&gt;% 
            mutate(radius = sqrt(Total_Words),
                   diameter = radius*2)</code></pre>
<p>I could now manually enter the necessary diameter for each circle into Adobe Illustrator.</p>
<p><em>While a full how-to for Adobe Illustrator design is outside the scope of this post, you can find lots of information on <a href="https://helpx.adobe.com/illustrator/using/drawing-simple-lines-shapes.html">Adobe’s site</a>.</em></p>
<p><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/RO_V2.jpg" width="30%" style="display: block; margin: auto;" /></p>
<p>That definitely helped make the circles a more reasonable size. Now to add some extra information, like the percentage of female characters and spoken words. Again, I calculated in R and added the data to Illustrator. I thought that the best way to display that information was just to put a circle around the bubbles, cut the circle, and color it to match the bubbles it was near. Then add a call-out of information. It looked like this:</p>
<p><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/RO_V3.jpg" width="30%" style="display: block; margin: auto;" /></p>
<p>I was decently happy with it, until I (luckily) asked a friend to look at it. Her first response was asking about which percentage the pink outer line represented: the percentage of female characters or percentage of words spoken by females. It was an excellent question because, although I had intended the outer lines to be mostly decorative, they were so reminiscent of a pie or donut graph that we instinctively read it this way. So either I had to find a way to get the bubbles into “pie” pieces or get rid of the outer lines.</p>
<p>Back to the drawing board.</p>
</div>
<div id="adding-interactivity-with-d3.js" class="section level3">
<h3>Adding Interactivity with d3.js</h3>
<p>While I was still trying to figure out the best way to show the overall character and word percentages for each movie, I ran into another issue. I loved the bubbles, but I wanted to know who each bubble represented. Where were my favorite characters in this bubble mass? I briefly toyed with the idea of adding an arrow with a character name to each bubble or trying to put names in the bubbles, but with so many characters and such a wide range of bubble sizes, I knew it would get too cluttered.</p>
<p>Luckily for me, I had recently stumbled upon a fantastic data visualization collaboration called <a href="http://www.datasketch.es/">data sketch|es</a>. I absolutely loved their unique data visualizations and the way they added interactive elements when necessary. After looking through their write-ups, I knew that interactivity, and more specifically: <a href="https://en.wikipedia.org/wiki/Tooltip">tooltips</a>, were exactly what my visualization needed and it looked like the best way to do that would be using <a href="https://d3js.org/">d3.js</a>.</p>
<p>However, when I started this project, I had never once touched d3.js or Javascript. I used packages like <code>highcharter</code> which wrapped Javascript and let me use it in R. When I first decided to add tooltips to this visualization I was hoping for something similar. I looked for a bridge between the programs I knew (R or Adobe Illustrator) and d3.js. I found that you could import .svg files from Illustrator into d3.js and add interactive tooltips to them, but all of the values had to be manually entered. That seemed like it was asking for typos.</p>
<p>The more I looked, the more I realized I’d need to learn some d3.js to do this the way I want. So, to internet classes and StackOverflow I went. Somewhere along the line, I stumbled upon a <a href="http://www.nytimes.com/interactive/2012/02/13/us/politics/2013-budget-proposal-graphic.html?_r=0">fantastic interactive bubble chart</a> from the New York Times and decided that if I was going to make my bubbles interactive, I also wanted to add the ability to separate them by gender. I was able to find a few excellent tutorials on how to make this happen (<a href="https://www.youtube.com/watch?v=lPr60pexvEM">here</a> and <a href="http://vallandingham.me/bubble_charts_with_d3v4.html">here</a>). So I played and experimented and played some more. When I got stuck I returned to Google searching and reading. At one point I was stuck on a problem for hours and could not find a workable solution, so I turned to the kind people of the internet, asked for <a href="http://stackoverflow.com/questions/41479452/collision-detection-lost-after-toggle-d3v4">help</a>, and was lucky enough to have a very knowledgable user respond right away.</p>
<p>I’m uploading my <a href="https://github.com/ProQuestionAsker/ProQuestionAsker.github.io/blob/sources/content/projects/MovieDialogueInteractive/movie_bubbles2.js">.js</a>, <a href="https://github.com/ProQuestionAsker/ProQuestionAsker.github.io/blob/sources/content/projects/MovieDialogueInteractive/style.css">.css</a>, and <a href="https://github.com/ProQuestionAsker/ProQuestionAsker.github.io/blob/sources/content/projects/MovieDialogueInteractive/index.html">.html</a> files to Github, so anyone interested in exploring them, please do. As I learn more Javascript I hope to come back to this project and optimize the code. I know right now that it is far from perfect, but for my first project with d3.js, I’m very happy with how it turned out. To give some brief insight into parts of the d3.js code:</p>
<p>I once again scale the circles by <a href="https://github.com/d3/d3-scale/blob/master/README.md#scaleSqrt">area</a>, with a maximum circle diameter of 40 px.</p>
<pre class="js"><code>var radiusScale = d3.scaleSqrt().domain([1, 4692]).range([1, 40])</code></pre>
<p>I define a few <a href="https://github.com/d3/d3/blob/master/API.md#forces-d3-force">forces</a> to move the circles throughout their .svg area (a 300 px by 300 px box). There are two separate X forces (forces that move the circles along the X axis) since I needed two conditions: all the bubbles combined and bubbles separated by gender.</p>
<pre class="js"><code>// Define the two forces along the X axis to split by gender
// the drawing force for males is at 30% of the width of the svg box
// the drawing force for females is at 70% of the width of the svg box
var forceXSplit = d3.forceX(d =&gt; width * (d.Gender === &quot;male&quot; ? 0.3 : 0.7))
        .strength(0.2);

// Define the force along the X axis to combine all bubbles together 
// (at half the width of the svg box)
var forceXCombine = d3.forceX((width)/2).strength(0.1)</code></pre>
<p>Then, in order to keep the bubbles from overlapping one another, I added a <a href="https://github.com/d3/d3-force/blob/master/README.md#forceCollide">collision</a> force. The radius of this force was scaled based on circle size so that larger circles pushed circles further from their center than smaller circles.</p>
<pre class="js"><code>var forceCollide = d3.forceCollide(function(d){
        return radiusScale(d.Total_Words) + 1
      })
      .iterations(10);</code></pre>
<p>With all of my forces defined, I could combine them in a <a href="https://github.com/d3/d3-force/blob/master/README.md#forceSimulation">simulation</a> to determine the proper location of each bubble in the group.</p>
<pre class="js"><code>var simulation = d3.forceSimulation()
    .force(&quot;x&quot;, forceXCombine)
    .force(&quot;y&quot;, d3.forceY((height / 3) + 10).strength(0.15))
    .force(&quot;collide&quot;, forceCollide);</code></pre>
<p>Then I just needed to include my data file so that each circle could be created automatically and sized according to the total number of words spoken by a character. At the same time, I added the tool tips that triggered when the user’s mouse hovered over a circle. Again, the tool tips were automatically filled with information from the data file.</p>
<pre class="js"><code># Export data from R
write.csv(RO_full2, &quot;RogueOne.csv&quot;)</code></pre>
<pre class="js"><code>// Import data into Javascript
d3.queue()
    .defer(d3.csv, &quot;RogueOne.csv&quot;)
    .await(ready)

function ready (error, datapoints) {
    datapoints.forEach(d =&gt; d.Total_Words = +d.Total_Words);

    var mousemove = function() {
                return tooltip.style(&quot;top&quot;, (d3.event.pageY-10)+&quot;px&quot;).style(&quot;left&quot;,(d3.event.pageX+10)+&quot;px&quot;);
            }

  var mouseout = function(){return tooltip.style(&quot;visibility&quot;, &quot;hidden&quot;);} 

    var circles = svg.selectAll(&quot;.Character&quot;)
        .data(datapoints)
        .enter().append(&quot;circle&quot;)
        .attr(&quot;class&quot;, &quot;Character&quot;)
        .attr(&quot;r&quot;, function(d){
        return radiusScale(d.Total_Words)
    })
        .style(&quot;fill&quot;, d =&gt; d.Gender === &quot;male&quot; ? &quot;#3b3f93&quot; : &quot;#ff4a6b&quot;)
        .on(&quot;mouseover&quot;, function(d) {
              tooltip.html(d.Character + &quot;&lt;br&gt;&lt;br&gt; Words Spoken: &quot; + d.Total_Words);
              tooltip.style(&quot;visibility&quot;, &quot;visible&quot;);
      })
      .on(&quot;mousemove&quot;, mousemove)
      .on(&quot;mouseout&quot;, mouseout);
}         </code></pre>
<p>I added a clickable element within each svg box to toggle between the combined and separated conditions for the bubbles. The style and functionality were inspired by the <a href="http://jfmdev.github.io/SaVaGe/docs/toggle-switch.html">toggle switch widget</a> from the <a href="http://jfmdev.github.io/SaVaGe/index.html">SaVaGe</a> library. I generated rectangles of sizes corresponding to the percentages of male and female characters and words spoken beneath my bubble grouping to give viewers an overall idea of representation within each movie. This percentage-wise stacked bar graph seemed to make the overarching trends clearest. I used <a href="http://fontawesome.io/icons/">Font Awesome</a> icons alongside each bar graph to differentiate between character and word percentages. And that’s about it! The final design looks like this:</p>
<p><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/FinalDesign.jpg" width="30%" style="display: block; margin: auto;" /></p>
<p>Again, the entire code used to generate the d3.js figure is available on my <a href="https://github.com/ProQuestionAsker/ProQuestionAsker.github.io/tree/sources/content/projects/MovieDialogueInteractive">Github</a> and the interactive version is <a href="https://ProQuestionAsker.github.io/projects/MovieDialogueInteractive/">here</a></p>
</div>
<div id="color-considerations" class="section level3">
<h3>Color Considerations</h3>
<p>Once I had my bubble charts working with their corresponding bar graphs, I needed to make a design decision: what color should these be? The simple/stereotypical answer when displaying genders (at least in the US) is “blue for boys and pink for girls”. I <em>really</em> wanted to use a different color scheme. I’m not the biggest fan of the color dichotomy we use in America today and didn’t want to perpetuate it in my data visualization. So I tried a few other color schemes. I found beautiful color palettes on the following websites:</p>
<ul>
<li><a href="http://www.colourlovers.com/">ColourLovers</a></li>
<li><a href="https://coolors.co/">Coolers</a></li>
<li><a href="http://tools.medialab.sciences-po.fr/iwanthue/">I Want Hue</a></li>
<li><a href="https://dribbble.com/">Dribbble</a></li>
</ul>
<p>But I ran into an issue. I must have tried hundreds of color schemes (many of which looked better with the background gray than the ones that I screenshot here).</p>
<p><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/ColorScheme1.png" width="30%" height="200px" /><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/ColorScheme2.png" width="30%" height="200px" /><img src="/projects/img/articleImages/2017-01-07_genderMovieDialogue_img/ColorScheme3.png" width="30%" height="200px" /></p>
<p>But regardless of the color scheme, I couldn’t easily tell which group represented males and which represented females. Yes, that’s what legends are for, but in the end, data visualization should be as easy to interpret as possible. In this case, that meant that some shade of blue and pink/red would be the easiest to understand. So, I found my favorite combination of the two and moved on.</p>
</div>
</div>
<div id="key-takeaways" class="section level2">
<h2>Key Takeaways</h2>
<p>If you haven’t already checked out the interactive version, do that <a href="https://ProQuestionAsker.github.io/projects/MovieDialogueInteractive/">here</a>.</p>
<p>Before I start this section, I feel the need to point out that I <strong>did not</strong> do any statistics, machine learning, etc. on these data. I really set out on this project just to see if my impressions of female representation in 2016’s movies could be backed up by data and to find an interesting way to visualize it. If you’d like to do some more in-depth analytics yourself, I made the word-count data <a href="">available</a>. <em>For legal reasons, I can’t post the transcripts themselves online.</em></p>
<p>Now that I’ve got that out of the way, here are the key takeaways from this project:</p>
<ul>
<li><strong>Highest Percentage of Female Characters</strong>: Finding Dory (42% Female Characters)</li>
<li><strong>Lowest Percentage of Female Characters</strong>: Rogue One (9% Female Characters)</li>
<li><strong>Highest Percentage of Female Dialogue</strong>: Finding Dory (53% Female Dialogue)</li>
<li><strong>Lowest Percentage of Female Dialogue</strong>: The Jungle Book (10% Female Dialogue)</li>
</ul>
<p><strong>By Movie</strong>:</p>
<ul>
<li><strong>Captain America: Civil War</strong>: Although this is titled a Captain America movie, Tony Stark (Ironman) speaks more than Steve Rogers (Captain America). Even with 2 female members of the “Avengers” team, this movie only had 16% female dialogue.</li>
<li><strong>Finding Dory</strong>: This movie scored the highest in both percentage of female characters and percentage of female dialogue, but it’s hard to not notice that most of the dialogue seems to revolve around Dory herself. She is the title character, but she alone accounts for 74% of the female dialogue and 39% of the movie’s dialogue overall. Alternatively, the “lead” male character, Marlin, only accounted for 32% of the male dialogue. Maybe Marlin wasn’t the male lead. It could have been Hank with 22% of the male dialogue. Or Bailey with 10%. Male dialogue in this movie is more well-spread amongst characters than female dialogue.</li>
<li><strong>Zootopia</strong>: While there were still more male than female characters in this movie (38% female) the dialogue was close to equal (46% female). Like Finding Dory, the main character of this movie was female (Judy Hopps), and she accounts for 69% of the female dialogue. The main male character (Nick Wilde) says about 1000 fewer words than Judy Hopps, but also makes up only 43% of the male dialogue. In this case, the difference is likely due to the larger number of male characters.</li>
<li><strong>The Jungle Book</strong>: Although the writers clearly tried to make this movie more gender-equal than the original (by casting Scarlett Johansson as the voice of the historically-male snake, Kaa), it held the lowest amount of female dialogue (10%) and still only had 21% female characters. The male characters included the main, well-known ones (Mowgli, Bagheera, Baloo, King Louie, and Shere Khan) but also added a few new male speaking characters (e.g., a pangolin and squirrel that work with Baloo and a very possessive porcupine).</li>
<li><strong>The Secret Life of Pets</strong>: This movie follows the daily journeys of two male dogs and their (mostly male) friends. It boasts a 27% female cast with 19% female dialogue.</li>
<li><strong>Batman V. Superman</strong>: The second superhero movie on this list has 24% female cast and 23% female dialogue. Notably (although, perhaps not surprisingly) Lex Luthor spoke the most in this movie, with Bruce Wayne (Batman) coming in 2nd. For a movie with two title characters, it’s worth pointing out that Superman only spoke 42% as many words as Batman.</li>
<li><strong>Rogue One</strong>: My perceptions of this movie appeared to be just about correct, with Rogue One scoring the lowest percentage of female characters (9%). Of the 17% female dialogue, 78% came from the female lead: Jyn Erso. It’s also worth pointing out that Cassian (the male lead) spoke about 300 more words than Jyn.</li>
<li><strong>Deadpool</strong>: The main character of this movie (Wade Wilson or Deadpool) said the most words of any character in this entire dataset (total of 4692). This may not be surprising because Deadpool is both the main/title character and the narrator of the movie, so he does talk quite frequently. His words make up 64% of the male dialogue in the movie.</li>
<li><strong>Fantastic Beasts</strong>: While watching this movie, I really felt like there was relatively equal representation between male and female characters. However, when looking at the data, it appears only 32% of the characters and dialogue were attributed to females.</li>
<li><strong>Suicide Squad</strong>: Like Fantastic Beasts, I really thought this movie felt pretty equal. Amanda Waller (played by Viola Davis) is a strong, prevalent character, Harley Quinn (Margot Robbie) was advertised to be a main character, and there were several other female characters throughout the movie. However, when actually looking at the data, only 22% of the characters and 32% of the dialogue were female. Floyd/Deadshot (played by Will Smith) had the most dialogue throughout the film.</li>
</ul>
<p>So although the gender distribution in <a href="https://en.wikipedia.org/wiki/Human_sex_ratio">humans</a> and <a href="https://en.wikipedia.org/wiki/Sex_ratio">most animals</a> worldwide is roughly 50/50, the closest any of the top 10 movies of 2016 got to gender equality was 58% male characters and 42% female characters.</p>
</div>
<div id="future-work" class="section level2">
<h2>Future Work</h2>
<p>While this project did validate my initial assumption (that there were very few females in Rogue One other than Jyn), I was incredibly surprised at the lack of gender equality throughout almost all of the top movies. These movies ranged by genre, target audience, release date (within 2016), and represented the worldwide highest grossing films (so we’re not looking only at the viewing habits of one country). Conducting this project was eye-opening for me and I hope to expand on it more in the future. Here’s what I’d love to add:</p>
<ul>
<li>Character Race (this one is especially tricky, particularly for uncredited actors/actresses and animated films)</li>
<li>Dialogue for top movies in years before 2016</li>
<li>Look specifically at dialogue in movies with female leads (how does the dialogue distribution differ between those films and films with male leads?)</li>
</ul>
<p>If you are reading this and are so inclined to start one of this projects yourself, please do!</p>
<p>As always with my work, I appreciate feedback, so please either leave it in the comments section here, <a href="https://twitter.com/ProQuesAsker">tweet</a> at me or email me <a href="https://proquestionasker.github.io/contact/">directly</a>.</p>
</div>

      
       </div>
     </div>
   </div>





        <a href="#" class="back-to-top">
        <i class="fa fa-arrow-circle-o-up" aria-hidden="true"></i>

        </a>

         <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "amberthomas" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
   

          </div>
      </div>
  </div>
  <script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.cookie.js"> </script>
<script src="/js/ekko-lightbox.js"></script>
<script src="/js/jquery.scrollTo.min.js"></script>
<script src="/js/masonry.pkgd.min.js"></script>
<script src="/js/imagesloaded.pkgd.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/front.js"></script>
<script src="/js/backtotop.js"></script> 
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
